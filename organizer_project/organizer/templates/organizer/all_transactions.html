{% extends 'organizer/base.html' %}
{% load static %}

{% block _title %}All transactions{% endblock %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static "organizer/plugins/datatables/semantic.min.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "organizer/plugins/datatables/dataTables.semanticui.min.css" %}">

{% endblock %}

{% block content %}
<main class="bg-color-main">
    <div class="container">
    	<div class="col s12">
		    <div class="card white z-depth-4" id="trans-card">
		        <div class="card-content black-text"> 
		            <table id="example" class="ui celled table" cellspacing="0" width="100%">
		                <thead>
		                    <tr>
		                        <th>Name</th>
		                        <th>Cost</th>
		                        <th>Date</th>
		                        <th>Description</th>
		                        <th>Category</th>
		                    </tr>
		                </thead>
		                <tbody>
		                    {% for i in transaction_list %}
		                        <tr>
		                            <td>{{ i.product }}</td>
		                            <td>{{ i.price }}</td>
		                            <td>
		                            	<span class='hide'>
		                            		{{ i.purchase_date.year }}
		                            		{{ i.purchase_date.month|stringformat:"02d" }}
		                            		{{ i.purchase_date.day|stringformat:"02d" }}
		                            	</span>
		                            	{{ i.purchase_date }}
		                            </td>
		                            <td>{{ i.description }}</td>
		                            <td>{{ i.category }}</td>
		                        </tr>
		                    {% endfor %}
		                </tbody>
		            </table>
		        </div>
		    </div>
		    </div>
	</div>

</main>
{% endblock %}

{% block extra_js %}
<script src="{% static "organizer/js/navbar_buttons.js" %}"></script>
<script src="{% static "organizer/plugins/datatables/jquery.dataTables.min.js" %}"></script>
<script src="{% static "organizer/plugins/datatables/dataTables.semanticui.min.js" %}"></script>
<script src="{% static "organizer/plugins/datatables/semantic.min.js" %}"></script>

<script>
$('#example').DataTable({
	responsive: true,
	"lengthMenu": [[5, 10, 25, -1], [5, 10, 25, "All"]]
});
</script>
{% endblock %}